@using BlakePlugin.DocsRenderer.Types
<aside class="col-lg-2 col-md-3 bdr-sidebar bg-dark border-start">
    <div class="p-3 bdr-toc">
        <h6 class="text-muted text-uppercase small fw-bold mb-3">On This Page</h6>
        <nav class="nav flex-column">

            @foreach (var pageSection in PageSections)
            {
                <a href="@($"#{pageSection.Id}")" class="bdr-toc-link">
                    @pageSection.Text
                </a>
                @if (pageSection.Children != null && pageSection.Children.Count > 0)
                {
                    <div class="ms-3">
                        @foreach (var child in pageSection.Children)
                        {
                            <a href="#@child.Id" class="bdr-toc-link">
                                @child.Text
                            </a>
                        }
                    </div>
                }
            }
        </nav>

        <hr class="my-4">

        <div class="mb-3">
            <h6 class="text-muted text-uppercase small fw-bold mb-2">Quick Links</h6>

            @foreach (var link in QuickLinks)
            {
                <a href="@link.Value" class="bdr-toc-link">@link.Key</a>
            }
        </div>
    </div>
</aside>

@code {
    [Parameter]
    public required List<Section> PageSections { get; set; }

    [Parameter]
    public Dictionary<string, string> QuickLinks { get; set; } = new Dictionary<string, string>
    {
        { "GitHub Repository", "#" },
        { "Report Issue", "#" },
        { "Contribute", "#" },
        { "Changelog", "#" }
    };
}