section {
    position: relative;
}

    section::before {
        content: '';
        display: block;
        height: 1px;
        width: 100%;
        position: absolute;
        top: 0;
        visibility: hidden;
    }

    section:target::before {
        visibility: visible;
        background-color: blue;
    }

    section:has(:target) {
        background-color: rgba(0, 100, 255, 0.1); /* Highlight active section */
        border-left: 4px solid blue;
    }

.bdr-sidebar a[href*=""#""]:hover,
.bdr-sidebar a[href*=""#""]:target {
    font-weight: bold;
    color: blue;
}

section {
    scroll-margin-top: 10px; /* Ensure smooth scrolling */
}

/* Standard Prism Line Highlight */
pre[data-line] {
    position: relative;
    padding: 1em 0 1em 3em; /* Space for line numbers */
}

.line-highlight {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    height: 1.5em; /* Matches line height */
    background: rgba(255, 255, 0, 0.15); /* Default highlight color */
    pointer-events: none;
    z-index: -1; /* Ensure it's behind the text */
    white-space: pre;
}

/* Ensure highlight covers the entire width */
pre[class*=""language-""] {
    position: relative;
    overflow: visible; /* Ensures highlight is within bounds */
}

/* Fixes horizontal scrolling issue */
pre.line-numbers {
    position: relative;
    padding-left: 3.8em; /* Adjust for line numbers */
}

.line-highlight.added {
    background-color: rgba(0, 255, 128, 0.15) !important;
    border-left: 3px solid rgba(0, 255, 128, 0.7);
}

.line-highlight.removed {
    background-color: rgba(255, 0, 0, 0.15) !important;
    border-left: 3px solid rgba(255, 0, 0, 0.7);
}
